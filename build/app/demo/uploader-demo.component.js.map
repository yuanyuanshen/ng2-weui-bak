{"version":3,"sources":["../../src/app/demo/uploader-demo.component.ts"],"names":[],"mappings":";;;;;;;;AAAA,sCAA0C;AA6B1C,IAAa,qBAAqB;IA1BlC;QA2BU,aAAQ,GAAY,KAAK,CAAC;QAG1B,UAAK,GAAsB;YACjC;gBACE,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,sBAAsB;gBAChC,UAAU,EAAE,KAAK;aAClB;YACD;gBACE,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,sBAAsB;gBAChC,UAAU,EAAE,IAAI;gBAChB,UAAU,EAAE,MAAM;aACnB;YACD;gBACE,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,sBAAsB;gBAChC,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,KAAK;aACrB;SACF,CAAC;IAoBJ,CAAC;IAlBS,uCAAO,GAAf,UAAgB,KAAK;QACnB,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IAC9C,CAAC;IAEO,wCAAQ,GAAhB,UAAiB,KAAiB;QAChC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAEO,qCAAK,GAAb;QAAA,iBAOC;QANC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACxC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC9B,CAAC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IACH,4BAAC;AAAD,CA1CA,AA0CC,IAAA;AA1CY,qBAAqB;IA1BjC,gBAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,QAAQ,EAAE,ylCAsBT;KACF,CAAC;GACW,qBAAqB,CA0CjC;AA1CY,sDAAqB","file":"uploader-demo.component.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport { UploadItem } from \"../component/form/uploader.component\";\n\n@Component({\n  selector: \"uploader-demo\",\n  template: `\n    <div class=\"page js_show\">\n      <div class=\"page__hd\">\n        <h1 class=\"page__title\">Uploader</h1>\n        <p class=\"page__desc\">上传组件，一般配合<a class=\"link\" [routerLink]=\"['/gallery']\">组件Gallery</a>来使用。</p>\n      </div>\n      <div class=\"page__bd\">\n        <div class=\"weui-cells weui-cells_form\">\n          <div class=\"weui-cell\">\n            <div class=\"weui-cell__bd\">\n              <div wx-uploader [items]=\"items\" title=\"图片上传\" [max-count]=\"3\" (click-add)=\"showAdd($event)\" (click-item)=\"showItem($event)\"></div>\n              <div wx-gallery [(display)]=\"showFlag\" [image-url]=\"selectImageUrl\">\n                <i wx-icon type=\"gallery-delete\" style=\"cursor: pointer;\" (click)=\"doDel()\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"page__ft\">\n        <a style=\"cursor: pointer;\" [routerLink]=\"['/']\"><img src=\"./images/icon_footer_link.png\"/></a>\n      </div>\n    </div>\n  `,\n})\nexport class UploaderDemoComponent {\n  private showFlag: boolean = false;\n  private selectImageUrl: string;\n  private selectImageId: string;\n  private items: Array<UploadItem> = [\n    {\n      imageId: \"1\",\n      imageUrl: \"./images/pic_160.png\",\n      showStatus: false,\n    },\n    {\n      imageId: \"2\",\n      imageUrl: \"./images/pic_160.png\",\n      showStatus: true,\n      statusIcon: \"warn\",\n    },\n    {\n      imageId: \"3\",\n      imageUrl: \"./images/pic_160.png\",\n      showStatus: true,\n      statusMessage: \"50%\",\n    },\n  ];\n\n  private showAdd(event): void {\n    alert(\"调用选择文件方法: \" + JSON.stringify(event));\n  }\n\n  private showItem(event: UploadItem): void {\n    this.selectImageUrl = event.imageUrl;\n    this.selectImageId = event.imageId;\n    this.showFlag = true;\n  }\n\n  private doDel(): void {\n    this.items.forEach((item, index) => {\n      if (item.imageId === this.selectImageId) {\n        this.items.splice(index, 1);\n      }\n    });\n    this.showFlag = false;\n  }\n}\n"]}