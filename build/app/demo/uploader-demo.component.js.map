{"version":3,"sources":["../../src/app/demo/uploader-demo.component.ts"],"names":[],"mappings":";;;;;;;;AAAA,sCAA0C;AA6B1C,IAAa,qBAAqB;IA1BlC;QA2BU,aAAQ,GAAY,KAAK,CAAC;QAG1B,UAAK,GAAsB;YACjC;gBACE,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,sBAAsB;gBAChC,UAAU,EAAE,KAAK;aAClB;YACD;gBACE,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,sBAAsB;gBAChC,UAAU,EAAE,IAAI;gBAChB,UAAU,EAAE,MAAM;aACnB;YACD;gBACE,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,sBAAsB;gBAChC,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,KAAK;aACrB;SACF,CAAC;IAoBJ,CAAC;IAlBS,uCAAO,GAAf,UAAgB,KAAK;QACnB,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IAC9C,CAAC;IAEO,wCAAQ,GAAhB,UAAiB,KAAiB;QAChC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAEO,qCAAK,GAAb;QAAA,iBAOC;QANC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACxC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC9B,CAAC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IACH,4BAAC;AAAD,CA1CA,AA0CC,IAAA;AA1CY,qBAAqB;IA1BjC,gBAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,QAAQ,EAAE,ylCAsBT;KACF,CAAC;GACW,qBAAqB,CA0CjC;AA1CY,sDAAqB","file":"uploader-demo.component.js","sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { UploadItem } from \"../component/form/uploader.component\";\r\n\r\n@Component({\r\n  selector: \"uploader-demo\",\r\n  template: `\r\n    <div class=\"page js_show\">\r\n      <div class=\"page__hd\">\r\n        <h1 class=\"page__title\">Uploader</h1>\r\n        <p class=\"page__desc\">上传组件，一般配合<a class=\"link\" [routerLink]=\"['/gallery']\">组件Gallery</a>来使用。</p>\r\n      </div>\r\n      <div class=\"page__bd\">\r\n        <div class=\"weui-cells weui-cells_form\">\r\n          <div class=\"weui-cell\">\r\n            <div class=\"weui-cell__bd\">\r\n              <div wx-uploader [items]=\"items\" title=\"图片上传\" [max-count]=\"3\" (click-add)=\"showAdd($event)\" (click-item)=\"showItem($event)\"></div>\r\n              <div wx-gallery [(display)]=\"showFlag\" [image-url]=\"selectImageUrl\">\r\n                <i wx-icon type=\"gallery-delete\" style=\"cursor: pointer;\" (click)=\"doDel()\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"page__ft\">\r\n        <a style=\"cursor: pointer;\" [routerLink]=\"['/']\"><img src=\"./images/icon_footer_link.png\"/></a>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport class UploaderDemoComponent {\r\n  private showFlag: boolean = false;\r\n  private selectImageUrl: string;\r\n  private selectImageId: string;\r\n  private items: Array<UploadItem> = [\r\n    {\r\n      imageId: \"1\",\r\n      imageUrl: \"./images/pic_160.png\",\r\n      showStatus: false,\r\n    },\r\n    {\r\n      imageId: \"2\",\r\n      imageUrl: \"./images/pic_160.png\",\r\n      showStatus: true,\r\n      statusIcon: \"warn\",\r\n    },\r\n    {\r\n      imageId: \"3\",\r\n      imageUrl: \"./images/pic_160.png\",\r\n      showStatus: true,\r\n      statusMessage: \"50%\",\r\n    },\r\n  ];\r\n\r\n  private showAdd(event): void {\r\n    alert(\"调用选择文件方法: \" + JSON.stringify(event));\r\n  }\r\n\r\n  private showItem(event: UploadItem): void {\r\n    this.selectImageUrl = event.imageUrl;\r\n    this.selectImageId = event.imageId;\r\n    this.showFlag = true;\r\n  }\r\n\r\n  private doDel(): void {\r\n    this.items.forEach((item, index) => {\r\n      if (item.imageId === this.selectImageId) {\r\n        this.items.splice(index, 1);\r\n      }\r\n    });\r\n    this.showFlag = false;\r\n  }\r\n}\r\n"]}